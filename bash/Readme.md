Выполенение домашнего задания по теме BASH


Как запускать (предусмотрена защита от мультизапуска)
В качестве защиты от мультизапуска используется программа flock

Добавить в cron скрипт (crontab -e), в виде /usr/bin/flock /var/tmp/myscript.lock /root/myscript.sh с указанием расписания
Если так произойдет, что скрипт не успеет отработать в отведенное ему время, повторный запуск скрипта не произойдет, а точнее, произойдет запуск программы flock, она будет ждать пока что первый скрипт завершит свою работу и только после этого запустит скрипт.
/var/tmp/myscript.lock это лок файл, который создается если его нет, и программа flock "держит" его во время выполнения скрипта и отпускает только после того как скрипт завершится.
Файлы
find.sh - скрипт, который парсит файл логов NGINX
access-4560-644067.log - сам файл логов
lines - файл куда записывается последняя доступная строка (при следующем запуске, лог будет парситься со следующей строки, указанной в файле, т.е. 670+1). Если ничего в этом файле не будет то лог будет парситься сначала и до конца.
mail.txt - Результат, который приходит на почту
